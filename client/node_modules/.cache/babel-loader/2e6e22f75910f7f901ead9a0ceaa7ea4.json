{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BufferReader = void 0;\nconst emptyBuffer = Buffer.allocUnsafe(0);\nclass BufferReader {\n  constructor(offset = 0) {\n    this.offset = offset;\n    this.buffer = emptyBuffer;\n    // TODO(bmc): support non-utf8 encoding?\n    this.encoding = 'utf-8';\n  }\n  setBuffer(offset, buffer) {\n    this.offset = offset;\n    this.buffer = buffer;\n  }\n  int16() {\n    const result = this.buffer.readInt16BE(this.offset);\n    this.offset += 2;\n    return result;\n  }\n  byte() {\n    const result = this.buffer[this.offset];\n    this.offset++;\n    return result;\n  }\n  int32() {\n    const result = this.buffer.readInt32BE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n  string(length) {\n    const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);\n    this.offset += length;\n    return result;\n  }\n  cstring() {\n    const start = this.offset;\n    let end = start;\n    while (this.buffer[end++] !== 0) {}\n    this.offset = end;\n    return this.buffer.toString(this.encoding, start, end - 1);\n  }\n  bytes(length) {\n    const result = this.buffer.slice(this.offset, this.offset + length);\n    this.offset += length;\n    return result;\n  }\n}\nexports.BufferReader = BufferReader;","map":{"version":3,"names":["emptyBuffer","Buffer","allocUnsafe","BufferReader","constructor","offset","buffer","encoding","setBuffer","int16","result","readInt16BE","byte","int32","readInt32BE","string","length","toString","cstring","start","end","bytes","slice","exports"],"sources":["../src/buffer-reader.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,MAAMA,WAAW,GAAGC,MAAM,CAACC,WAAW,CAAC,CAAC,CAAC;AAEzC,MAAaC,YAAY;EAMvBC,YAAoBC,MAAA,GAAiB,CAAC;IAAlB,KAAAA,MAAM,GAANA,MAAM;IALlB,KAAAC,MAAM,GAAWN,WAAW;IAEpC;IACQ,KAAAO,QAAQ,GAAW,OAAO;EAEO;EAElCC,SAASA,CAACH,MAAc,EAAEC,MAAc;IAC7C,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACtB;EAEOG,KAAKA,CAAA;IACV,MAAMC,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACK,WAAW,CAAC,IAAI,CAACN,MAAM,CAAC;IACnD,IAAI,CAACA,MAAM,IAAI,CAAC;IAChB,OAAOK,MAAM;EACf;EAEOE,IAAIA,CAAA;IACT,MAAMF,MAAM,GAAG,IAAI,CAACJ,MAAM,CAAC,IAAI,CAACD,MAAM,CAAC;IACvC,IAAI,CAACA,MAAM,EAAE;IACb,OAAOK,MAAM;EACf;EAEOG,KAAKA,CAAA;IACV,MAAMH,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACQ,WAAW,CAAC,IAAI,CAACT,MAAM,CAAC;IACnD,IAAI,CAACA,MAAM,IAAI,CAAC;IAChB,OAAOK,MAAM;EACf;EAEOK,MAAMA,CAACC,MAAc;IAC1B,MAAMN,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACW,QAAQ,CAAC,IAAI,CAACV,QAAQ,EAAE,IAAI,CAACF,MAAM,EAAE,IAAI,CAACA,MAAM,GAAGW,MAAM,CAAC;IACrF,IAAI,CAACX,MAAM,IAAIW,MAAM;IACrB,OAAON,MAAM;EACf;EAEOQ,OAAOA,CAAA;IACZ,MAAMC,KAAK,GAAG,IAAI,CAACd,MAAM;IACzB,IAAIe,GAAG,GAAGD,KAAK;IACf,OAAO,IAAI,CAACb,MAAM,CAACc,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE;IACjC,IAAI,CAACf,MAAM,GAAGe,GAAG;IACjB,OAAO,IAAI,CAACd,MAAM,CAACW,QAAQ,CAAC,IAAI,CAACV,QAAQ,EAAEY,KAAK,EAAEC,GAAG,GAAG,CAAC,CAAC;EAC5D;EAEOC,KAAKA,CAACL,MAAc;IACzB,MAAMN,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACgB,KAAK,CAAC,IAAI,CAACjB,MAAM,EAAE,IAAI,CAACA,MAAM,GAAGW,MAAM,CAAC;IACnE,IAAI,CAACX,MAAM,IAAIW,MAAM;IACrB,OAAON,MAAM;EACf;;AAjDFa,OAAA,CAAApB,YAAA,GAAAA,YAAA"},"metadata":{},"sourceType":"script"}